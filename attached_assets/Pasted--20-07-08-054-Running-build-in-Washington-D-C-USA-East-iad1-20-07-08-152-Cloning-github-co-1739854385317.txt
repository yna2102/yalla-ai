[20:07:08.054] Running build in Washington, D.C., USA (East) – iad1
[20:07:08.152] Cloning github.com/yna2102/yalla-ai (Branch: main, Commit: 878107a)
[20:07:08.534] Cloning completed: 383.000ms
[20:07:14.092] Restored build cache from previous deployment (BQYD85Nej9ioQYkLbE3tB35JiiUH)
[20:07:14.176] Running "vercel build"
[20:07:14.612] Vercel CLI 41.1.3
[20:07:14.974] Detected `pnpm-lock.yaml` version 9 generated by pnpm@9.x
[20:07:15.002] Installing dependencies...
[20:07:15.653] Lockfile is up to date, resolution step is skipped
[20:07:15.751] Already up to date
[20:07:16.513] 
[20:07:16.583] Done in 1.4s
[20:07:16.620] Detected Next.js version: 15.0.3-canary.2
[20:07:16.645] Running "pnpm run build"
[20:07:17.105] 
[20:07:17.105] > ai-chatbot@0.1.0 build /vercel/path0
[20:07:17.105] > tsx lib/db/migrate && next build
[20:07:17.106] 
[20:07:19.178] ⏳ Running migrations...
[20:07:19.365] {
[20:07:19.366]   severity_local: 'NOTICE',
[20:07:19.366]   severity: 'NOTICE',
[20:07:19.366]   code: '42P06',
[20:07:19.366]   message: 'schema "drizzle" already exists, skipping',
[20:07:19.366]   file: 'schemacmds.c',
[20:07:19.366]   line: '131',
[20:07:19.366]   routine: 'CreateSchemaCommand'
[20:07:19.366] }
[20:07:19.379] {
[20:07:19.379]   severity_local: 'NOTICE',
[20:07:19.379]   severity: 'NOTICE',
[20:07:19.379]   code: '42P07',
[20:07:19.379]   message: 'relation "__drizzle_migrations" already exists, skipping',
[20:07:19.379]   file: 'parse_utilcmd.c',
[20:07:19.379]   line: '207',
[20:07:19.379]   routine: 'transformCreateStmt'
[20:07:19.379] }
[20:07:19.419] ✅ Migrations completed in 241 ms
[20:07:20.151]    ▲ Next.js 15.0.3-canary.2
[20:07:20.152]    - Experiments (use with caution):
[20:07:20.152]      · ppr
[20:07:20.152] 
[20:07:20.179]    Creating an optimized production build ...
[20:07:35.249]  ✓ Compiled successfully
[20:07:35.253]    Linting and checking validity of types ...
[20:07:46.724] Failed to compile.
[20:07:46.724] 
[20:07:46.724] ./app/(chat)/api/chat/route.ts:63:5
[20:07:46.724] Type error: Type '(dataStream: DataStreamWriter) => Promise<Response | undefined>' is not assignable to type '(dataStream: DataStreamWriter) => void | Promise<void>'.
[20:07:46.724]   Type 'Promise<Response | undefined>' is not assignable to type 'void | Promise<void>'.
[20:07:46.724]     Type 'Promise<Response | undefined>' is not assignable to type 'Promise<void>'.
[20:07:46.725]       Type 'Response | undefined' is not assignable to type 'void'.
[20:07:46.725]         Type 'Response' is not assignable to type 'void'.
[20:07:46.725] 
[20:07:46.725] [0m [90m 61 |[39m[0m
[20:07:46.725] [0m [90m 62 |[39m   [36mreturn[39m createDataStreamResponse({[0m
[20:07:46.725] [0m[31m[1m>[22m[39m[90m 63 |[39m     execute[33m:[39m [36masync[39m (dataStream) [33m=>[39m {[0m
[20:07:46.725] [0m [90m    |[39m     [31m[1m^[22m[39m[0m
[20:07:46.725] [0m [90m 64 |[39m       [90m// Screen the message first[39m[0m
[20:07:46.725] [0m [90m 65 |[39m       [36mconst[39m screening [33m=[39m [36mawait[39m generateText({[0m
[20:07:46.725] [0m [90m 66 |[39m         model[33m:[39m myProvider[33m.[39mlanguageModel([32m"chat-model-small"[39m)[33m,[39m[0m
[20:07:46.789]  ELIFECYCLE  Command failed with exit code 1.
[20:07:46.815] Error: Command "pnpm run build" exited with 1
[20:07:47.171] 